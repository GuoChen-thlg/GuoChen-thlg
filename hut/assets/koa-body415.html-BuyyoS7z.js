import{_ as e,c as t,o as i,a as s}from"./app-Bg-rEz4_.js";const a={},n=s(`<p>使用 Koa 写了个插件，要上传文件时 使用了 koa-body 在 POST 提交参数时，总是报错 415 unsupported media type 苦思不得其解 在痛苦了半天的结果下，最终找到了问题所在</p><p>主要是开启了 <code>encoding: &#39;gzip&#39;</code> 这个配置，注释后发现可以运行，完美解决。</p><div class="language-js line-numbers-mode" data-ext="js" data-title="js"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">use</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  koaBody</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    multipart</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 支持上传文件</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    patchNode</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // encoding: &#39;gzip&#39;,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  })</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),o=[n];function p(d,l){return i(),t("div",null,o)}const c=e(a,[["render",p],["__file","koa-body415.html.vue"]]),h=JSON.parse(`{"path":"/koa-body415.html","title":"koa-body POST 方式出现 415 unsupported media type","lang":"zh-CN","frontmatter":{"title":"koa-body POST 方式出现 415 unsupported media type","tags":["node","koa-body","koa"],"categories":["Koa"],"copyright":true,"abbrlink":41372,"date":"2021-01-22T21:44:46.000Z","createTime":"2021-01-22T21:44:46.000Z","top":null,"description":"使用 Koa 写了个插件，要上传文件时 使用了 koa-body 在 POST 提交参数时，总是报错 415 unsupported media type 苦思不得其解 在痛苦了半天的结果下，最终找到了问题所在 主要是开启了 encoding: 'gzip' 这个配置，注释后发现可以运行，完美解决。","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"],["meta",{"property":"og:url","content":"https://blog.thlg.xyz/hut/koa-body415.html"}],["meta",{"property":"og:site_name","content":"天火流光"}],["meta",{"property":"og:title","content":"koa-body POST 方式出现 415 unsupported media type"}],["meta",{"property":"og:description","content":"使用 Koa 写了个插件，要上传文件时 使用了 koa-body 在 POST 提交参数时，总是报错 415 unsupported media type 苦思不得其解 在痛苦了半天的结果下，最终找到了问题所在 主要是开启了 encoding: 'gzip' 这个配置，注释后发现可以运行，完美解决。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"koa-body"}],["meta",{"property":"article:tag","content":"koa"}],["meta",{"property":"article:published_time","content":"2021-01-22T21:44:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"koa-body POST 方式出现 415 unsupported media type\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-01-22T21:44:46.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":0.47,"words":140},"git":{"updatedTime":null,"contributors":[]},"autoDesc":true,"filePathRelative":"koa-body415.md","categoryList":[]}`);export{c as comp,h as data};
